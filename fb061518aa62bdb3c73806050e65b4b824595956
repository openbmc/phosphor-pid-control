{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c22af925_cb62aa03",
        "filename": "util.cpp",
        "patchSetId": 16
      },
      "lineNbr": 133,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2023-10-12T11:13:40Z",
      "side": 1,
      "message": "Some questions about this part:\nIt seems \"TempToMargin\" vector size has to smaller than \"Inputs\" size. Is it true?\nIf so, I think there may have some problems. For example:\nIf \"Inputs\" likes \u003d\u003e\n```\n            \"Inputs\": [\n                \"DIMM[0-9]\",\n                \"DIMM1[0-5]\"\n            ],\n```\nAnd dbus-sensors only creates some dimms that exist on MB.\nSo pid-control initial logs may like \u003d\u003e\n```\nApr 09 14:11:09 bmc swampd[29035]: PID name: DIMM_CPU0_PID\nApr 09 14:11:09 bmc swampd[29035]: inputs: DIMM11,\n```\n\nHow to set the \"TempToMargin\" in json? Because we may not know the number of the input sensor until runtime.",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 133,
        "endChar": 5
      },
      "revId": "fb061518aa62bdb3c73806050e65b4b824595956",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ef725c6_f1e80163",
        "filename": "util.cpp",
        "patchSetId": 16
      },
      "lineNbr": 133,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2023-10-12T22:49:41Z",
      "side": 1,
      "message": "That is correct. It is allowed to have `TempToMargin` containing fewer elements than `Inputs`. This is intentional. Sensors missing from `TempToMargin` are assumed to already be in units of degrees of safety margin, and they will not be further converted. This is to allow the user to freely mix temperature sensors and margin sensors in the same PID loop.\n\nIf a regex is used to automatically expand the `Inputs` vector, then it will become difficult to exactly line up the vector members, you are correct about that. I recommend against the use of regex, for now. This is a known weakness of Entity Manager.\n\nJSON easily supports dictionaries (NAME\u003dVALUE pairs), but the Entity Manager does not. So, I am limited to what Entity Manager supports: array of strings, and array of numbers. Instead of dictionaries, I have to use the array index for matching up names with values, instead of being able to do it exactly and safely with a dictionary object.\n\nIf, in the future, Entity Manager is enhanced to allow the dictionary as a valid object type, I can enhance `TempToMargin` to use a dictionary instead, which would solve this problem. This is beyond the scope of this patch, however.",
      "parentUuid": "c22af925_cb62aa03",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 133,
        "endChar": 5
      },
      "revId": "fb061518aa62bdb3c73806050e65b4b824595956",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c56eab6_1fc51393",
        "filename": "util.cpp",
        "patchSetId": 16
      },
      "lineNbr": 133,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2023-10-13T10:11:16Z",
      "side": 1,
      "message": "Got it. I think there might be some comments or messages that need to be added in README or elsewhere to remind User if they want to use `TempToMargin` setting?",
      "parentUuid": "0ef725c6_f1e80163",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 133,
        "endChar": 5
      },
      "revId": "fb061518aa62bdb3c73806050e65b4b824595956",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}