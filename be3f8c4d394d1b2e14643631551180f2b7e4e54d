{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "90f71a56_1fe5e760",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-02T05:03:29Z",
      "side": 1,
      "message": "This seems awfully similar to the Stepwise curve of type Ceiling.  To get this case, you\u0027d have no inputs, and a single point specified at the failsafe speed, but it would get you the same result (I think).\n\nMight be worth looking at if we\u0027re implementing the same feature twice.",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd95a0b1_9fd0f788",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2021-04-02T05:18:05Z",
      "side": 1,
      "message": "This is to be able to use this feature which is WIP https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-pid-control/+/38112\n\nWe\u0027d like to lower the failsafePercent dynamically when the host is down (where sensors from the host report NaN and margin sensors are stuck at what they reported last) - this causes the PID loop to get into failsafe mode but the calculated RPM to go up to 100%.",
      "parentUuid": "90f71a56_1fe5e760",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a059edf5_16bd4fe5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-02T18:09:07Z",
      "side": 1,
      "message": "This sounds like exactly what stepwise records were built to do?  They can clamp fan speeds based on some arbitrary input (or no input in this case).",
      "parentUuid": "cd95a0b1_9fd0f788",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a343adda_5543f735",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2021-04-02T18:15:00Z",
      "side": 1,
      "message": "I\u0027m not familiar enough with the stepwise records, is this referring to the TODO section of the configure.md? https://github.com/openbmc/phosphor-pid-control/blob/master/configure.md#type--stepwise\n\nWe would like to control the PID as a normal PID and only go into this \"Ceiling\" type in failsafe or when we instruct it to, is this possible with the stepwise records?",
      "parentUuid": "a059edf5_16bd4fe5",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8db62c99_dbc6597a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-04-02T21:28:49Z",
      "side": 1,
      "message": "\u003e I\u0027m not familiar enough with the stepwise records, is this referring to the TODO section of the configure.md? https://github.com/openbmc/phosphor-pid-control/blob/master/configure.md#type--stepwise\n\nHere\u0027s an example of one:\nhttps://github.com/openbmc/entity-manager/blob/ec98491a00c5dcffae6be362e483380c807f234c/configurations/R2000%20Chassis.json#L480\n\nEssentially they can set and upper and lower clamp on your fan speeds, optionally dependent on another sensor (usually ambient air temps).\n\n\u003e \n\u003e We would like to control the PID as a normal PID and only go into this \"Ceiling\" type in failsafe or when we instruct it to, is this possible with the stepwise records?\n\nIt should be, if it isn\u0027t already today.  I\u0027d have to look at the code to see exactly the order that the clamps are applied in.",
      "parentUuid": "a343adda_5543f735",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7afa95ef_1f078bfe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 10,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2022-08-09T22:28:24Z",
      "side": 1,
      "message": "Reviving this discussion - this is to be used for platforms without entity-manager (it\u0027s using static sensor stack), so I\u0027m not sure if we can use EM changes for this feature",
      "parentUuid": "8db62c99_dbc6597a",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "be3f8c4d394d1b2e14643631551180f2b7e4e54d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}